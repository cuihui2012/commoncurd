<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.common.curd.commoncurd.dao.ICommonApiLogDao">
	<!-- 查询IP配置详情 -->
	<select id="getApiLogList"  parameterType="java.util.Map" resultType="com.common.curd.commoncurd.model.ApiLogVo">
		SELECT *
		  FROM T_COMMON_LOG_INFO
		 WHERE 1 = 1
			<if test='ip_address != null and ip_address != ""'>
				AND IP_ADDRESS LIKE '%' || #{ip_address} || '%'
			</if>
			<if test='uri_path != null and uri_path != ""'>
				AND URI_PATH LIKE '%' || #{uri_path} || '%'
			</if>
		 ORDER BY UPDATE_TIME DESC, LID
 	</select>
</mapper>